<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Questloggd - User Profile</title>

<link rel="stylesheet" href="styles.css">
<style>
/* Reset */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Arial', sans-serif; }
body { background-color: #121212; color: #f0f0f0; transition: background-color 0.3s, color 0.3s; }

/* Header */
header { background-color: #2e005e; padding: 15px 30px; display: flex; align-items: center; gap: 30px; transition: background-color 0.3s; }
header a { color: #fff; text-decoration: none; font-weight: bold; transition: color 0.2s; }
header a:hover { color: #ff69b4; }

/* Main layout */
.container { display: flex; padding: 20px 30px; gap: 20px; }

/* Left sidebar */
.sidebar { width: 25%; background-color: #1a1a1a; border-radius: 10px; padding: 20px; transition: background-color 0.3s; }
.profile-pic { width: 100px; height: 100px; border-radius: 50%; margin: 0 auto 10px; display: block; object-fit: cover; }
.username { text-align: center; font-size: 1.5em; margin-bottom: 5px; }

/* Level + EXP bar */
.level-container { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px; }
.level-number { font-size: 1.5em; font-weight: bold; min-width: 20px; }
.exp-bar { width: 100px; height: 12px; background-color: #2a2a2a; border-radius: 6px; overflow: hidden; }
.exp-progress { height: 100%; background-color: #ffcc00; border-radius: 6px; }

.bio { background-color: #2a2a2a; padding: 10px; border-radius: 5px; margin-bottom: 15px; font-size: 0.9em; text-align: center; }
.stats { display: flex; justify-content: space-around; margin-bottom: 10px; font-size: 0.9em; color: #ccc; }
.stats div { text-align: center; }

/* Profile badges */
#profile-badges { text-align: center; margin-bottom: 15px; }
#profile-badges .badge { display: inline-block; background-color: #4CAF50; color: white; font-size: 0.8em; padding: 4px 8px; border-radius: 12px; margin: 2px 3px; font-weight: bold; cursor: default; transition: transform 0.2s, box-shadow 0.2s; }
#profile-badges .badge:hover { transform: scale(1.1); box-shadow: 0 0 5px #4CAF50; }

/* Followers / Following */
.sidebar .followers-following { display: flex; justify-content: space-between; margin-top: 10px; }
.sidebar .followers-following div { background-color: #1a1a1a; border-radius: 10px; padding: 10px; flex: 1; text-align: center; }

.recent-activity { margin-top: 20px; }
.recent-activity h3 { margin-bottom: 10px; font-size: 1.1em; }
.activity-item { background-color: #2a2a2a; padding: 10px; border-radius: 5px; margin-bottom: 8px; font-size: 0.9em; }

/* Right content */
.main-content { width: 75%; display: flex; flex-direction: column; gap: 20px; }
.section-title { font-size: 1.3em; color: #ffffff; margin-bottom: 10px; }

/* Top 4 games */
.top-games { display: flex; gap: 15px; }
.game-card { background-color: #1a1a1a; border-radius: 10px; padding: 15px; flex: 1; text-align: center; transition: transform 0.3s, box-shadow 0.3s; cursor: pointer; }
.game-card:hover { transform: scale(1.05); box-shadow: 0 0 15px #ff69b4; }
.game-card img { width: 100%; height: 120px; border-radius: 5px; object-fit: fill; margin-bottom: 10px; }
.game-name { font-weight: bold; margin-bottom: 5px; }
.game-rating { color: #ffcc00; }

/* Game carousel */
.game-carousel-container { position: relative; overflow: hidden; border-radius: 10px; background-color: #1a1a1a; padding: 15px; }
.game-carousel { display: flex; gap: 10px; }
.carousel-item { flex: 0 0 150px; height: 150px; border-radius: 5px; overflow: hidden; }
.carousel-item img { width: 100%; height: 100%; object-fit: fill; display: block; }

/* Recent reviews section */
.recent-reviews { background-color: #1a1a1a; border-radius: 10px; padding: 15px; }
.review-item { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; padding: 10px; background-color: #2a2a2a; border-radius: 5px; }
.review-game-img { width: 50px; height: 50px; object-fit: fill; border-radius: 5px; }
.review-text { flex: 1; }

.game-carousel::-webkit-scrollbar { display: none; }

/* Badges modal */
#badges-modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #1a1a1a; padding: 20px; border-radius: 10px; z-index: 1000; }
#badges-modal .badge { background-color: #333; margin: 5px; cursor: pointer; }
#badges-modal .badge.selected { background-color: #4CAF50; }
#badges-overlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); z-index: 900; }

/* Theme Selector */
#theme-selector { width: 100%; padding: 10px; margin-top: 10px; border-radius: 8px; border: none; cursor: pointer; background-color: #ff69b4; color: white; font-weight: bold; }
</style>
</head>
<body>

<header>
<a href="#">Profile</a>
<a href="#">Lists</a>
<a href="quest_collection.html">Games</a>
<a href="#">Friends</a>
<a href="#">Settings</a>
</header>

<div class="container">
    <!-- Left Sidebar -->
    <div class="sidebar">
        <img src="images/profile.jpg" alt="Profile Picture" class="profile-pic">
        <div class="username">Username123</div>
        <div id="profile-badges"></div>

        <div class="level-container">
            <div class="level-number">12</div>
            <div class="exp-bar">
                <div class="exp-progress" style="width: 70%;"></div>
            </div>
        </div>

        <div class="bio">Gamer. Reviewer. Explorer of virtual worlds. Love RPGs and indie games!</div>

        <div class="stats">
            <div><strong>45</strong><br>Games Played</div>
            <div><strong>8</strong><br>Lists Created</div>
        </div>

        <div class="followers-following">
            <div><h4>Followers</h4><p>123</p></div>
            <div><h4>Following</h4><p>98</p></div>
        </div>

        <div class="recent-activity">
            <h3>Recent Activity</h3>
            <div class="activity-item">Played Game A</div>
            <div class="activity-item">Reviewed Game B</div>
            <div class="activity-item">Added Game C to wishlist</div>
        </div>

        <button id="export-profile" style="margin-top:20px;width:100%;padding:10px;background:#4CAF50;color:white;border:none;border-radius:8px;cursor:pointer;">Export Profile</button>
        <button id="open-badges" style="margin-top:10px;width:100%;padding:10px;background:#ff69b4;color:white;border:none;border-radius:8px;cursor:pointer;">Select Badges</button>
        <select id="theme-selector">
            <option value="">Select Theme</option>
            <option value="neon-pink">Neon Pink</option>
            <option value="royal-purple">Royal Purple</option>
            <option value="midnight-blue">Midnight Blue</option>
            <option value="forest-green">Forest Green</option>
        </select>
    </div>

    <!-- Right Main Content -->
    <div class="main-content">
        <button id="log-open" class="btn btn-green" style="width: fit-content; padding:10px 16px;">Log a Game</button>

        <div>
            <h2 class="section-title">Favourite Games</h2>
            <div class="top-games">
                <div class="game-card"><img src="images/game1.jpg" alt="Game 1"><div class="game-name">Overwatch 2</div><div class="game-rating">★ ★ ★ ★ ☆</div></div>
                <div class="game-card"><img src="images/game2.jpg" alt="Game 2"><div class="game-name">Marvel Rivals</div><div class="game-rating">★ ★ ★ ☆ ☆</div></div>
                <div class="game-card"><img src="images/game3.jpg" alt="Game 3"><div class="game-name">Battlefield 6</div><div class="game-rating">★ ★ ★ ★ ★</div></div>
                <div class="game-card"><img src="images/game4.jpg" alt="Game 4"><div class="game-name">Risk of Rain 2</div><div class="game-rating">★ ★ ☆ ☆ ☆</div></div>
            </div>
        </div>

        <div>
            <h2 class="section-title">Recently Played</h2>
            <div class="game-carousel-container">
                <div class="game-carousel" id="carousel">
                    <div class="carousel-item"><img src="images/carousel1.jpg" alt="Game 1"></div>
                    <div class="carousel-item"><img src="images/carousel2.jpg" alt="Game 2"></div>
                    <div class="carousel-item"><img src="images/carousel3.jpg" alt="Game 3"></div>
                    <div class="carousel-item"><img src="images/carousel4.jpg" alt="Game 4"></div>
                    <div class="carousel-item"><img src="images/carousel5.jpg" alt="Game 5"></div>
                    <div class="carousel-item"><img src="images/carousel6.jpg" alt="Game 6"></div>
                </div>
            </div>
        </div>

        <div class="recent-reviews">
            <h3>Recent Reviews</h3>
            <div class="review-item"><img src="images/gameA_small.jpg" alt="Game A" class="review-game-img"><div class="review-text"><strong>Game A:</strong> Loved the graphics!</div></div>
            <div class="review-item"><img src="images/gameB_small.jpg" alt="Game B" class="review-game-img"><div class="review-text"><strong>Game B:</strong> Gameplay was smooth.</div></div>
            <div class="review-item"><img src="images/gameC_small.jpg" alt="Game C" class="review-game-img"><div class="review-text"><strong>Game C:</strong> Needs better controls.</div></div>
        </div>
    </div>
</div>

<footer class="footer">
<div class="footer-content">
<p>© 2025 Questloggd — Powered by <a href="https://rawg.io/apidocs" target="_blank" class="footer-link">RAWG API</a></p>
<button class="btn btn-green contact-btn" onclick="window.location.href='mailto:contact@questloggd.com'">Contact Us</button>
</div>
</footer>

<!-- Badges Modal -->
<div id="badges-overlay"></div>
<div id="badges-modal">
    <h2>Select Your Badges (max 3)</h2>
    <div id="badges-list">
        <span class="badge" data-name="Pro Gamer">Pro Gamer</span>
        <span class="badge" data-name="Collector">Collector</span>
        <span class="badge" data-name="Reviewer">Reviewer</span>
        <span class="badge" data-name="Explorer">Explorer</span>
        <span class="badge" data-name="Speedrunner">Speedrunner</span>
    </div>
    <button id="badges-close" style="margin-top:10px;padding:6px 12px;">Close</button>
</div>

<script src="log.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
// Carousel
const carousel = document.getElementById('carousel');
carousel.innerHTML += carousel.innerHTML;
let offset = 0;
function slideCarousel() {
    offset += 1;
    if(offset >= carousel.scrollWidth / 2) offset = 0;
    carousel.style.transform = `translateX(-${offset}px)`;
}
setInterval(slideCarousel, 20);

// Export Profile
document.getElementById("export-profile").addEventListener("click", async () => {
    const { jsPDF } = window.jspdf;
    const profileElement = document.querySelector(".container");
    const canvas = await html2canvas(profileElement, { scale: 2, useCORS: true });
    const imgData = canvas.toDataURL("image/png");
    const pdf = new jsPDF("p", "mm", "a4");
    const pageWidth = 210;
    const imgWidth = pageWidth;
    const imgHeight = canvas.height * (imgWidth / canvas.width);
    pdf.addImage(imgData, "PNG", 0, 0, imgWidth, imgHeight);
    pdf.save("Your_Profile.pdf");
});

// Badges
const badgesModal = document.getElementById("badges-modal");
const badgesOverlay = document.getElementById("badges-overlay");
const openBadges = document.getElementById("open-badges");
const closeBadges = document.getElementById("badges-close");
const badges = document.querySelectorAll("#badges-list .badge");
let selectedBadges = [];

function updateProfileBadges() {
    const profileBadges = document.getElementById("profile-badges");
    profileBadges.innerHTML = "";
    selectedBadges.forEach(name => {
        const span = document.createElement("span");
        span.className = "badge selected";
        span.textContent = name;
        profileBadges.appendChild(span);
    });
}

badges.forEach(badge => {
    badge.onclick = () => {
        if(badge.classList.contains("selected")) {
            badge.classList.remove("selected");
            selectedBadges = selectedBadges.filter(b => b !== badge.dataset.name);
        } else if(selectedBadges.length < 3) {
            badge.classList.add("selected");
            selectedBadges.push(badge.dataset.name);
        }
        updateProfileBadges();
    }
});

openBadges.onclick = () => { badgesModal.style.display="block"; badgesOverlay.style.display="block"; }
closeBadges.onclick = () => { badgesModal.style.display="none"; badgesOverlay.style.display="none"; }
badgesOverlay.onclick = () => { badgesModal.style.display="none"; badgesOverlay.style.display="none"; }

// Theme Selector
const themeSelector = document.getElementById("theme-selector");
themeSelector.onchange = () => {
    document.body.className = "";
    switch(themeSelector.value){
        case "neon-pink":
            document.body.style.backgroundColor="#ff00ff";
            document.body.style.color="#fff";
            break;
        case "royal-purple":
            document.body.style.backgroundColor="#6a0dad";
            document.body.style.color="#fff";
            break;
        case "midnight-blue":
            document.body.style.backgroundColor="#001f3f";
            document.body.style.color="#fff";
            break;
        case "forest-green":
            document.body.style.backgroundColor="#014421";
            document.body.style.color="#fff";
            break;
        default:
            document.body.style.backgroundColor="#121212";
            document.body.style.color="#f0f0f0";
    }
}
</script>
</body>
</html>
